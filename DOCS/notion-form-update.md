# 노션 폼 필드 추가 작업

## 작업 일시
2024년

## 작업 내용
사용자 입력 폼에 채널이름과 채널소개 필드를 추가하고, 노션 데이터베이스에 저장하도록 수정했습니다.

## 수정된 파일

### 1. `components/waitlist-modal.tsx`
- **변경 사항**: 폼에 채널이름과 채널소개 입력 필드 추가
- **추가된 필드**:
  - 채널이름: 텍스트 입력 필드
  - 채널소개: 텍스트 영역(textarea) 필드
- **수정 내용**:
  - `formData` 상태에 `channelName`, `channelDescription` 추가
  - 서버 액션 호출 시 새로운 필드 전달
  - 폼 초기화 시 새로운 필드도 함께 초기화

### 2. `lib/notion.ts`
- **변경 사항**: `createNotionPage` 함수에 채널이름, 채널소개 파라미터 추가
- **추가된 속성**:
  - `채널이름`: rich_text 타입으로 노션 데이터베이스에 저장
  - `채널소개`: rich_text 타입으로 노션 데이터베이스에 저장

### 3. `actions/notion.ts`
- **변경 사항**: `submitWaitlistForm` 서버 액션에 채널이름, 채널소개 파라미터 추가 및 검증 로직 수정
- **수정 내용**:
  - 입력값 검증에 채널이름, 채널소개 필수 체크 추가
  - 에러 메시지 업데이트

## 노션 데이터베이스 속성 구조

노션 데이터베이스에 저장되는 속성:
1. **이름** (title) - 필수
2. **이메일** (email) - 필수
3. **전화번호** (phone_number) - 필수
4. **채널이름** (rich_text) - 필수
5. **채널소개** (rich_text) - 필수

## 환경 변수

프로젝트 루트의 `.env` 파일에 다음 환경 변수가 설정되어 있어야 합니다:
- `NOTION_API_KEY`: 노션 API 키
- `NOTION_DATABASE_ID`: 노션 데이터베이스 ID

## 사용 방법

1. 사용자가 모달에서 다음 정보를 입력:
   - 이름
   - 이메일
   - 전화번호
   - 채널이름
   - 채널소개

2. 폼 제출 시 `submitWaitlistForm` 서버 액션이 호출됨

3. 서버 액션에서 입력값 검증 후 `createNotionPage` 함수 호출

4. 노션 API를 통해 데이터베이스에 페이지 생성

## 참고 사항

- 모든 필드는 필수 입력 항목입니다
- 이메일 형식 검증이 포함되어 있습니다
- 노션 API 호출 실패 시 에러 메시지가 사용자에게 표시됩니다
- 서버 액션을 사용하여 클라이언트에서 직접 노션 API 키를 노출하지 않습니다

